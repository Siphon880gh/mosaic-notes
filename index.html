<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mosaic Notes</title>
    <link rel="stylesheet" href="https://api.jqueryui.com/jquery-wp-content/themes/jquery/css/base.css?v=4"></link>
    <link rel="stylesheet" href="bower_components/font-awesome/css/all.min.css"></link>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css"></link>
    <link rel="stylesheet" href="bower_components/medium-editor/dist/css/medium-editor.min.css">
    <link rel="stylesheet" href="assets/themes/medium-editor/flat.plain.min.css">
    <link rel="stylesheet" href="assets/themes/tailwindcss/unreset.css">
    <link rel="stylesheet" href="assets/index.css"></link>

    <style id="dynamic-style-block--gap">
        .grid {
            gap: 3px;
        }
    </style>
    <style id="dynamic-style-block--padding">
        .grid-item {
            padding: 10px;
        }
    </style>

    <style id="box-mode">
        .handle-rearrange {
            display: none !important;
        }
        
        .ui-resizable-e,
        .ui-resizable-s,
        .ui-resizable-se {
            display: none !important;
        }
    </style>
</head>

<body>
    <nav class="page-controls w-108 text-right">

        <button class="fa fa-solid fa-plus cursor-pointer border-circle-gray hover:text-red-600 hover:border-red-600" onclick="addBox()"></button>
        <button class="fa fa-solid fa-ellipsis-v cursor-pointer hover:text-red-600" onclick="toggleClass( '.page-controls__controls', 'invisible')"></button>
        <ul class="page-controls__controls invisible bg-gray-200 rounded-md p-2 text-left opacity-75">
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="precheckCanDuplicateBox()">
                <i class="fa fa-clone"></i> Duplicate
            </li>
            <li class="mb-2">
                <hr/>
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="deleteLastBox()">
                <i class="fa fa-times-circle"></i> Delete box
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="clearCanvas()">
                <i class="fa fa-trash-alt"></i> Clear Canvas
            </li>
            <li class="mb-2">
                <hr/>
            </li>
            <li class="text-center">
                <label for="gap"><i class="fa fa-wave-square"></i> Gap global:</label><br/>
                <input id="gap" class="w-12 border-1 ring-1 border-black ring-black rounded-sm p-1 mt-1 mb-2" min="0" value="3" type="number" onchange="changeGap( '.grid', $(this).val()+ 'px')">
                <label for="grap" class="pl-1">px</label>
            </li>
            <li class="text-center">
                <label for="padding"><i class="fa fa-compress-arrows-alt"></i> Padding global:</label><br/>
                <input id="padding" class="w-12 border-1 ring-1 border-black ring-black rounded-sm p-1 mt-1 mb-2" min="0" value="10" type="number" onchange="changePadding( '.grid-item', $(this).val()+ 'px')">
                <label for="padding" class="pl-1">px</label>
            </li>
            <li class="mb-2">
                <hr/>
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="toggleLastBoxBorders();">
                <span class="fa-regular fa-square"></span> Toggle Border
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="changeBorderLength();">
                <span class="fa-regular fa-square"></span> Border Length
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer">
                <span class="fa-regular fa-square"></span> Border Color
                <input type="color" id="change-border-color" onchange="changeBorderColor(event);">
            </li>
            <li class="mb-2">
                <hr/>
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="toggleClass( 'i:not(.fa)', 'hidden'); $(this).toggleClass( 'active');">
                <i class="fa fa-print"></i> Collapse italics
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="toggleClass( 'i:not(.fa)', 'invisible'); $(this).toggleClass( 'active');">
                <i class="fa fa-print"></i> Invisible italics
            </li>
            <li class="mb-2 hover:text-red-900 cursor-pointer" onclick="window.print()">
                <i class="fa fa-print"></i> Print
            </li>
        </ul>
    </nav>

    <main class="grid">
        <div class="grid-item rounded-sm unreset" contenteditable="true" style="width:33%">
            <b>Mosaic Notes</b>
            <span>By Weng Fei Fung.</span>
            <p>Create boxes stacked in a mosaic way for you to customize with instructions, then print it out for traditional pencil and pen notetaking. You can resize these boxes, add rich text, even paste pictures into it. In the end, print for your note
                taking purposes at school, work, etc. An example use is nursing brainsheets.</p>
            <span class="handle-rearrange ui-icon ui-icon-arrow-4-diag"></span>
        </div>
        <div class="grid-item rounded-sm unreset" contenteditable="true" style="width:33%">
            <p>This is a sample box. Create more mosaic boxes from <i class="fa fa-ellipsis-v"></i>, resize this one, add content, paste pictures! Toggle on borders for specific boxes. Hide italic texts. Adjust the overall spacing. Design your mosaic notes
                now!
            </p>
            <span class="handle-rearrange ui-icon ui-icon-arrow-4-diag"></span>
        </div>
    </main>

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
    <script src="bower_components/medium-editor/dist/js/medium-editor.min.js"></script>
    <script src="assets/themes/medium-editor/flat.plain.icons.min.js"></script>
    <script src="assets/index.js"></script>
    <script src="assets/persist.js"></script>

    <script>
        document.body.addEventListener('keydown', function(e) {
            // console.log(e.shiftKey); // shift
            // console.log(e.ctrlKey); // ctrl
            // console.log(e.altKey); // alt
            // console.log(e.metaKey); // command/windows (meta) key
            if ((e.metaKey || e.ctrlKey) && e.shiftKey)
                changeBoxMode("rearrange")
            else if ((e.metaKey || e.ctrlKey) && !e.shiftKey)
                changeBoxMode("resizable")
            else if (!e.metaKey && !e.ctrlKey && !e.shiftKey)
                changeBoxMode("plain")
        });
        document.body.addEventListener('keyup', function(e) {
            changeBoxMode("plain")
        });
    </script>
</body>

</html>